<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>우정잉 미션 현황판</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: transparent;
            font-family: 'Malgun Gothic', sans-serif;
        }
        
        .mission-panel {
            width: 300px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .streamer-header {
            background-color: #2b5797;
            color: white;
            padding: 10px 15px;
            font-size: 18px;
            font-weight: bold;
        }
        
        .streamer-info {
            display: flex;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .streamer-avatar {
            width: 60px;
            height: 60px;
            background-color: #ddd;
            margin-right: 15px;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .streamer-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .streamer-details {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .streamer-role {
            font-size: 14px;
            color: #666;
        }
        
        .streamer-name {
            font-size: 20px;
            font-weight: bold;
            margin-top: 5px;
        }
        
        .mission-section {
            padding: 15px;
        }
        
        .mission-category {
            font-weight: bold;
            background-color: #efefef;
            padding: 8px 12px;
            border-radius: 4px;
            margin-bottom: 10px;
            display: block;
        }
        
        .main-mission {
            color: #c43e57;
            border-left: 4px solid #c43e57;
        }
        
        .sub-mission {
            color: #b87d2b;
            border-left: 4px solid #b87d2b;
            margin-top: 15px;
        }
        
        .mission-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px 0;
        }
        
        .mission-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #aaa;
            border-radius: 3px;
            margin-right: 10px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
        }
        
        .mission-checkbox.checked {
            background-color: #44c767;
            border-color: #44c767;
        }
        
        .mission-checkbox.checked:after {
            content: "✓";
            color: white;
            font-weight: bold;
        }
        
        .mission-text {
            font-size: 15px;
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="mission-panel">
        <div class="streamer-header">우정잉</div>
        
        <div class="streamer-info">
            <div class="streamer-avatar">
                <img src="./woojeong.png" alt="우정잉">
            </div>
            <div class="streamer-details">
                <div class="streamer-role">[특이사항]</div>
                <div class="streamer-name">일진</div>
            </div>
        </div>
        
        <div class="mission-section">
            <div class="mission-category main-mission">메인 미션</div>
            <div class="mission-item">
                <div class="mission-checkbox" id="check1"></div>
                <div class="mission-text" id="mission1">1명 올리기</div>
            </div>
            
            <div class="mission-category sub-mission">서브 미션</div>
            <div class="mission-item">
                <div class="mission-checkbox" id="check2"></div>
                <div class="mission-text" id="mission2">수업 시간에 노래 부르기</div>
            </div>
            <div class="mission-item">
                <div class="mission-checkbox" id="check3"></div>
                <div class="mission-text" id="mission3">아유 받기</div>
            </div>
            <div class="mission-item">
                <div class="mission-checkbox" id="check4"></div>
                <div class="mission-text" id="mission4">반장 선거 2표 받기</div>
            </div>
        </div>
    </div>

    <script>
        // URL 파라미터 파싱 함수
        function getUrlParams() {
            const params = {};
            window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, 
                function(str, key, value) { params[key] = value; }
            );
            return params;
        }
        
        // URL 파라미터로 체크 상태 및 미션 텍스트 설정
        function applyUrlParams() {
            const params = getUrlParams();
            
            // 먼저 모든 체크를 리셋
            if(params.reset === '1') {
                resetAllChecks();
            }
            
            // 체크박스 상태 적용
            if(params.check1 === '1') document.getElementById('check1').classList.add('checked');
            if(params.check2 === '1') document.getElementById('check2').classList.add('checked');
            if(params.check3 === '1') document.getElementById('check3').classList.add('checked');
            if(params.check4 === '1') document.getElementById('check4').classList.add('checked');
            
            // 미션 텍스트 적용
            if(params.mission1) document.getElementById('mission1').textContent = decodeURIComponent(params.mission1);
            if(params.mission2) document.getElementById('mission2').textContent = decodeURIComponent(params.mission2);
            if(params.mission3) document.getElementById('mission3').textContent = decodeURIComponent(params.mission3);
            if(params.mission4) document.getElementById('mission4').textContent = decodeURIComponent(params.mission4);
        }
        
        // 모든 체크마크 초기화
        function resetAllChecks() {
            const checkmarks = document.querySelectorAll('.mission-checkbox');
            checkmarks.forEach(check => {
                check.classList.remove('checked');
            });
        }
        
        // 페이지 로드 시 URL 파라미터 적용
        window.addEventListener('load', applyUrlParams);
    </script>
</body>
</html>
